name: githubreceiver

status:
  type: receiver
  stability: alpha
  pipelines: [metrics]
  warnings: []

resource_attributes:


attributes:
  gh.repo.name:
    description: "The full name of the GitHub repository"
    type: string
  gh.repo.branch.name:
    description: "The name of the branch in a given repository"
    type: string
  gh.org:
    description: "The organization owning the repository"
    type: string

metrics:
  gh.repo.count:
    enabled: true
    description: "Number of repositories that exist in an organization"
    unit: "ratio"
    gauge:
      value_type: int
        #monotonic: false
        #aggregation: delta
    attributes: [gh.org]
  gh.repo.branches.count:
    enabled: true
    description: "Number of branches that exist in the repository"
    unit: "ratio"
    gauge:
      value_type: int
        #monotonic: false
        #aggregation: delta
    attributes: [gh.repo.name, gh.org]
  gh.repo.contributors.count:
    enabled: true
    description: "Total number of unique contributors to this repository"
    unit: "ratio"
    gauge:
      value_type: int
        #monotonic: true
        #aggregation: delta
    attributes: [gh.repo.name, gh.org]
  gh.repo.branch.commits.count:
    enabled: true
    description: "The total number of commits on a given branch"
    unit: 1
    gauge:
      value_type: int
    attributes: [gh.repo.name, gh.org, gh.repo.branch.name]

      ## Additional metrics that would be added based on the original SDC collector
      #gh.repo.branch.total_age:
      #  enabled: true
      #  description: "Total age of the open branches"
      #  unit: 1
      #  gauge:
      #    value_type: int
      #      #monotonic: true
      #      #aggregation: delta
      #  attributes: [gh.repo.name, gh.org, gh.repo.branch.name]
      #gh.repo.prMeanLife:
      #  enabled: true
      #  description: "The mean amount of time that PRs have been open"
      #  unit: 1
      #  sum:
      #    value_type: int
      #    monotonic: true
      #    aggregation: delta
      #  attributes: [gh.repo, gh.org]
      #gh.repo.prStdDev:
      #  enabled: true
      #  description: "The standard deviation of a the PR lifetimes"
      #  unit: 1
      #  sum:
      #    value_type: int
      #    monotonic: false
      #      #aggregation: delta
      #  attributes: [gh.repo, gh.org]
      #gh.repo.branchMeanAge:
      #  enabled: true
      #  description: "The mean age of the branches in the repository"
      #  unit: 1
      #  sum:
      #    value_type: int
      #    monotonic: true
      #    aggregation: delta
      #  attributes: [gh.repo, gh.org]
